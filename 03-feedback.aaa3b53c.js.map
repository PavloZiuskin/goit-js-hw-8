{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAG7BG,EAAU,GA4BhB,SAASC,EAAUC,GACjBC,aAAaC,QArCiB,sBAqCgBC,KAAKC,UAAUJ,G,CA3B/DR,EAAKI,MAAMS,iBACT,QACAf,EAAAgB,UAAWC,KAab,SAA0BA,GACxB,MAAMC,EAAoBD,EAAEE,OAE3BX,EAAQY,MAAQF,EAAkBG,MAAQZ,EAAUD,E,CAfnDc,CAAiBL,EAAE,GAClB,MAELf,EAAKK,SAASQ,iBACZ,QACAf,EAAAgB,UAAWC,IACTM,QAAQC,IAAIP,EAAEE,OAAOE,OAWzB,SAA6BJ,GAC3B,MAAMC,EAAoBD,EAAEE,OAE3BX,EAAQiB,QAAUP,EAAkBG,MAAQZ,EAAUD,E,CAbrDkB,CAAoBT,EAAE,GACrB,MAELf,EAAKC,KAAKY,iBAAiB,UAgC3B,SAA4BE,GAC1BA,EAAEU,iBACFJ,QAAQC,IAAIhB,GACZG,aAAaiB,O,IAPV1B,EAAKI,MAAMe,OAAUnB,EAAKK,SAASc,OAXxC,WACE,MAAMQ,EAAYlB,aAAamB,QAzCD,uBA0CxBC,EAASlB,KAAKmB,MAAMH,GAErBE,IAGL7B,EAAKI,MAAMe,MAAQU,EAAOX,MAC1BlB,EAAKK,SAAS0B,YAAcF,EAAON,Q,CAInCS","sources":["src/js/03-feedback.js"],"sourcesContent":["var _ = require('lodash');\n\nconst FORM_FEEDBACK_LOKAL_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n};\n\nconst formObj = {};\n\nrefs.input.addEventListener(\n  'input',\n  _.throttle(e => {\n    onFormStateInput(e);\n  }, 500)\n);\nrefs.textarea.addEventListener(\n  'input',\n  _.throttle(e => {\n    console.log(e.target.value);\n    onFormStateTextarea(e);\n  }, 500)\n);\nrefs.form.addEventListener('submit', onClearLocalSubmit);\n\nfunction onFormStateInput(e) {\n  const formCurrentTarget = e.target;\n\n  (formObj.email = formCurrentTarget.value), addLockal(formObj);\n}\nfunction onFormStateTextarea(e) {\n  const formCurrentTarget = e.target;\n\n  (formObj.message = formCurrentTarget.value), addLockal(formObj);\n}\n\nfunction addLockal(obj) {\n  localStorage.setItem(FORM_FEEDBACK_LOKAL_KEY, JSON.stringify(obj));\n}\n\nfunction autoComplite() {\n  const readLocal = localStorage.getItem(FORM_FEEDBACK_LOKAL_KEY);\n  const newObj = JSON.parse(readLocal);\n\n  if (!newObj) {\n    return;\n  }\n  refs.input.value = newObj.email;\n  refs.textarea.textContent = newObj.message;\n}\n\nif (!refs.input.value || !refs.textarea.value) {\n  autoComplite();\n}\n\nfunction onClearLocalSubmit(e) {\n  e.preventDefault();\n  console.log(formObj);\n  localStorage.clear();\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","$945622fd0f572e60$var$formObj","$945622fd0f572e60$var$addLockal","obj","localStorage","setItem","JSON","stringify","addEventListener","throttle","e","formCurrentTarget","target","email","value","$945622fd0f572e60$var$onFormStateInput","console","log","message","$945622fd0f572e60$var$onFormStateTextarea","preventDefault","clear","readLocal","getItem","newObj","parse","textContent","$945622fd0f572e60$var$autoComplite"],"version":3,"file":"03-feedback.aaa3b53c.js.map"}