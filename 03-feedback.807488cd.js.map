{"mappings":"gfAAA,IA2CQA,EACAC,EA5CRC,EAAAC,EAAA,SAEMC,EAA0B,sBAE1BC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAG7BG,EAAU,GA4BhB,SAASC,EAAUC,GACjBC,aAAaC,QAAQX,EAAyBY,KAAKC,UAAUJ,G,CA3B/DR,EAAKI,MAAMS,iBACT,QACAhB,EAAAiB,UAAW,SAAAC,IAab,SAA0BA,GACxB,IAAMC,EAAoBD,EAAEE,OAE3BX,EAAQY,MAAQF,EAAkBG,MAAQZ,EAAUD,E,CAfnDc,CAAiBL,E,GAChB,MAELf,EAAKK,SAASQ,iBACZ,QACAhB,EAAAiB,UAAW,SAAAC,GACTM,QAAQC,IAAIP,EAAEE,OAAOE,OAWzB,SAA6BJ,GAC3B,IAAMC,EAAoBD,EAAEE,OAE3BX,EAAQiB,QAAUP,EAAkBG,MAAQZ,EAAUD,E,CAbrDkB,CAAoBT,E,GACnB,MAELf,EAAKC,KAAKY,iBAAiB,UAgC3B,SAA4BE,GAC1BA,EAAEU,iBACFJ,QAAQC,IAAIhB,GACZG,aAAaiB,WAAW3B,E,IAPrBC,EAAKI,MAAMe,OAAUnB,EAAKK,SAASc,QAVhCxB,EAAYc,aAAakB,QAAQ5B,IACjCH,EAASe,KAAKiB,MAAMjC,MAK1BK,EAAKI,MAAMe,MAAQvB,EAAOsB,MAC1BlB,EAAKK,SAASwB,YAAcjC,EAAO2B,S","sources":["src/js/03-feedback.js"],"sourcesContent":["var _ = require('lodash');\n\nconst FORM_FEEDBACK_LOKAL_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n};\n\nconst formObj = {};\n\nrefs.input.addEventListener(\n  'input',\n  _.throttle(e => {\n    onFormStateInput(e);\n  }, 500)\n);\nrefs.textarea.addEventListener(\n  'input',\n  _.throttle(e => {\n    console.log(e.target.value);\n    onFormStateTextarea(e);\n  }, 500)\n);\nrefs.form.addEventListener('submit', onClearLocalSubmit);\n\nfunction onFormStateInput(e) {\n  const formCurrentTarget = e.target;\n\n  (formObj.email = formCurrentTarget.value), addLockal(formObj);\n}\nfunction onFormStateTextarea(e) {\n  const formCurrentTarget = e.target;\n\n  (formObj.message = formCurrentTarget.value), addLockal(formObj);\n}\n\nfunction addLockal(obj) {\n  localStorage.setItem(FORM_FEEDBACK_LOKAL_KEY, JSON.stringify(obj));\n}\n\nfunction autoComplite() {\n  const readLocal = localStorage.getItem(FORM_FEEDBACK_LOKAL_KEY);\n  const newObj = JSON.parse(readLocal);\n\n  if (!newObj) {\n    return;\n  }\n  refs.input.value = newObj.email;\n  refs.textarea.textContent = newObj.message;\n}\n\nif (!refs.input.value || !refs.textarea.value) {\n  autoComplite();\n}\n\nfunction onClearLocalSubmit(e) {\n  e.preventDefault();\n  console.log(formObj);\n  localStorage.removeItem(FORM_FEEDBACK_LOKAL_KEY);\n}\n"],"names":["readLocal","newObj","$1WSnx","parcelRequire","$b00c40859be242c5$var$FORM_FEEDBACK_LOKAL_KEY","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","$b00c40859be242c5$var$formObj","$b00c40859be242c5$var$addLockal","obj","localStorage","setItem","JSON","stringify","addEventListener","throttle","e","formCurrentTarget","target","email","value","$b00c40859be242c5$var$onFormStateInput","console","log","message","$b00c40859be242c5$var$onFormStateTextarea","preventDefault","removeItem","getItem","parse","textContent"],"version":3,"file":"03-feedback.807488cd.js.map"}